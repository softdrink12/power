<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        let _count = 0;

        // 페이지 로딩이 끝나면
        // 추가 버튼을
        // 클릭하면
        // input의 
        // 글씨를
        // 목록에
        // 표시한다

        window.addEventListener("load", function() {


            // let dels = document.querySelectorAll(".del");
            // console.log(dels, dels.length);


            let add = document.querySelector("#add");
            // console.log('add', add)

            add.addEventListener('click', function() {
                // console.log('클릭')
                let todo = document.querySelector('#todo');
                // console.log(todo);
                console.log(todo.value);

                let list = document.querySelector("#list");
                // <input type="checkbox"> 할 일 <input type="button" value="삭제"><br>
                
                /*
                // innerHTML 방식
                // let html = '<input type="checkbox">'+ todo.value + '<input type="button" value="삭제"><br>'
                let html = '';
                html += '<div>';
                html += '   <input type="checkbox" class="chk">';
                html +=     todo.value;
                html += '   <input type="button" id="del_'+ _count +'"+ value="삭제"><br>';
                html += '</div>';


                list.innerHTML += html;
                */
                
                
                // append 방식
                let div = document.createElement('div');

                let html = '';
                html += '   <input type="checkbox">';
                html +=     todo.value;
                html += '   <input type="button" class = del value="삭제"><br>';
                div.innerHTML = html;

                idv.querySelector(".del").addEventListener('click', function(event) {
                    conosole.log(eevent.target.parentNode.innerText);
                })

                // 삭제 버튼등이 생기는 순간
                // list.prepend(div);

                // 그렇게 추가된 삭제 버튼들을 선택해온다
                // let dels = document.querySelectorAll(".del");
                // for(let i = 0; i < dels.length; i++) {
                //     // addEventlistener : 이벤트가 계속 추가됨
                //     dels[i].addEventListener('click', function(event) {
                //         event.target.parentNode.remove();
                //     })

                    // onclick : 이벤트 하나만 저장
                //     dels[i].onclick = function(event) {
                //         conosole.log(eevent.target.parentNode.innerText);
                //     }
                // }

            })

            document.querySelector("#all").addEventListener("click", function() {

                

                let list_chk = document.querySelector('.chk');
                for(let i = 0; i < list_chk.length; i++) {
                    list_chk[i].checked = true;
                }
            })
            
        })
        
    </script>
</head>
<body>
    <div>
        <h1>To Do List</h1>
        <div>
            <input type="text" id="todo">
            <input type="button" id="add" value="추가">
        </div>
        <div>
            <input type="checkbox" id="all">전체선택
            <input type="button" id="delete" value="선택삭제">

            <div id="list">
                
            </div>
        </div>
    </div>

</body>
</html>