<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // 배열 선언만 하는 방법
        // 배열 : 값을 순서에 따라 관리하는 방법
        let array = [];

        // json : 선언만 하는 방법
        // json : 값은 key로 관리하는 방법
        let json = {};

        // 값을 미리 알고 있는 경우의 json 사용법
        json = {
            "key1": "vlaue",
            "k": "v",
            k1: "v1",  // k1 : "v1"  <== 쌍 따옴표를 안써도 되지만 호환이 안될수도 있으므로 쓰는 게 좋다
            "num": 123,
            "child": {
                "child_1": "value-1"
            },
            "a1": array,
            "fn": function () {
                console.log('익명함수 실행');
            }
        };



        // 꺼내는 방법
        console.log(json);
        console.log("" + json);

        // 제이슨 안에 있는 변수의 값을 출력하는 방법
        console.log('json.k : ', json.k);           // <== 프로퍼티처럼 접근
        console.log('json["k"] : ', json["k"]);     // <== 배열처럼 접근
        let 숫자 = "num";
        console.log(json[숫자]);    // 대괄호 안에 문자가 들어간다는 것을 착안해서 변수에 담아서 사용할 수도 있다

        // let a = json.child;
        // a.child_1;
        // 위의 축약형을 한번에 씀
        console.log(json.child.child_1);
        console.log(json['child']['child_1']);

        // json 안에 있는 a1은 let array = []; 배열이기 때문에 push가 가능하다 
        json.a1.push(123);
        json.a1.push(123);
        console.log(json.a1);

        // json 안에 있는 함수도 실행이 가능하다 
        // let a = function () {
        //     console.log('익명함수 실행');
        // }
        // a();
        json.fn();

        // 추가하는 방법
        json.a = "b";
        // b라는 값을 가진 a변수를 json 안에 생성
        json.a = "b1";
        // a라는 변수가 없으면 만들어주고, 있으면 덮어쓴다
        json["c"] ="d";
        // 대괄호 안에 넣어서 사용도 가능하다 
        console.log(json);

        // 키 삭제 방법
        delete json.key1;
        console.log(json);

        console.log(json.human);
        // human이라는 변수가 없기 때문에 undefined가 출력된다

        // 모든 key를 가져오는 방법
        let keys = Object.keys(json);
        console.log('keys', keys);
        // json[keys[0]];
        // json[keys[1]];
        for (let i = 0; i < keys.length; i++) {
            console.log("키 : ", keys[i], "밸류 : ", json[keys[i]]);
        }

        // json을 문자열로 변환 : stringify()
        let strJson = JSON.stringify(json);
        console.log(strJson);

        // json 문법으로 적힌 문자열을 json 객체로 변환하는 방법 : parse()
        // json으로 이루어진 배열도 변환 가능 
        let json2 = JSON.parse(strJson);
        console.log(json2);

        // aJson이라는 배열에 push를 통해 배열을 추가할 수 있다 
        let aJson = [];
        let json3 = { "k1" : "v1" }
        let json4 = { "k2" : "v2" }
        aJson.push(json3);
        aJson.push(json4);
        console.log(aJson);

        // tringify를 통해 문자열로 바꿀 수도 있다
        strJson = JSON.stringify(aJson);
        console.log(strJson);

        // 문자열로 변한 json을 다시 parse를 통해 변환할 수 있다
        json2 = JSON.parse(strJson);
        console.log(json2);

        // json이나 json으로만 이루어진 배열이 아닌 경우 
        // 중괄호{} 나 [{}]의 형식이 아닌경우
        // parse에서 오류남
        // JSON.parse(abc);    // ReferenceError: abc is not defined

    </script>
</head>

<body>

</body>

</html>